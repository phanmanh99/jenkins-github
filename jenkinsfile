pipeline {
  agent any
    stages {
      stage('Clone') {
        steps {
          git 'https://github.com/phanmanh99/jenkins-github.git'
          withDockerRegistry(credentialsId: '895a22ae-d364-4daa-b261-c8261d3dc13f', url: 'https://index.docker.io/v1/') {
            sh 'docker build --name bossroyal1007/jenkins-image .'
            sh 'docker push bossroyal1007/jenkins-image:latest'
          }
        }
      }
    }
}
